<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      body {
        width: 320px;
        background: #0e0e10;
        color: #efeff1;
        font-family: Inter, "Helvetica Neue", Helvetica, Arial, sans-serif;
        font-size: 14px;
        padding: 16px;
      }
      h1 {
        font-size: 18px;
        margin-bottom: 12px;
        font-weight: 600;
      }
      .header {
        display: flex;
        align-items: center;
        justify-content: space-between;
      }
      .header-actions {
        display: flex;
        gap: 4px;
      }
      .header-actions button {
        width: 28px;
        height: 28px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: none;
        border: 1px solid #3a3a3d;
        border-radius: 4px;
        color: #898395;
        cursor: pointer;
        padding: 0;
      }
      .header-actions button:hover {
        color: #efeff1;
        background: #3a3a3d;
      }
      h2 {
        font-size: 14px;
        margin: 16px 0 8px;
        font-weight: 600;
        color: #bf94ff;
      }

      /* Accounts */
      .account {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 8px;
        background: #18181b;
        border-radius: 4px;
        margin-bottom: 6px;
      }
      .account.active {
        border-left: 3px solid #9147ff;
      }
      .account-name {
        font-weight: 600;
      }
      .account-actions button {
        background: none;
        border: 1px solid #3a3a3d;
        color: #efeff1;
        border-radius: 4px;
        padding: 3px 8px;
        cursor: pointer;
        font-size: 12px;
        margin-left: 4px;
      }
      .account-actions button:hover {
        background: #3a3a3d;
      }

      /* Buttons */
      .btn {
        display: block;
        width: 100%;
        padding: 8px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 600;
        margin-top: 8px;
      }
      .btn-primary {
        background: #9147ff;
        color: #fff;
      }
      .btn-primary:hover {
        background: #772ce8;
      }

      /* Settings */
      .setting {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 6px 0;
      }
      .setting > label:first-child {
        flex: 1;
      }
      .setting > input[type="number"] {
        width: 70px;
        background: #18181b;
        color: #efeff1;
        border: 1px solid #3a3a3d;
        border-radius: 4px;
        padding: 3px 6px;
      }

      .toggle {
        position: relative;
        width: 36px;
        height: 20px;
      }
      .toggle input {
        opacity: 0;
        width: 0;
        height: 0;
      }
      .toggle .slider {
        position: absolute;
        inset: 0;
        background: #3a3a3d;
        border-radius: 20px;
        cursor: pointer;
        transition: background 0.2s;
      }
      .toggle .slider::before {
        content: "";
        position: absolute;
        width: 16px;
        height: 16px;
        left: 2px;
        top: 2px;
        background: #efeff1;
        border-radius: 50%;
        transition: transform 0.2s;
      }
      .toggle input:checked + .slider {
        background: #9147ff;
      }
      .toggle input:checked + .slider::before {
        transform: translateX(16px);
      }

      .spinner {
        display: flex;
        align-items: center;
      }
      .spinner-btn {
        width: 24px;
        height: 24px;
        background: #3a3a3d;
        color: #efeff1;
        border: none;
        cursor: pointer;
        font-size: 14px;
        font-weight: 600;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .spinner-btn:hover {
        background: #53535f;
      }
      .spinner-btn:first-child {
        border-radius: 4px 0 0 4px;
      }
      .spinner-btn:last-child {
        border-radius: 0 4px 4px 0;
      }
      .spinner input {
        width: 36px;
        height: 24px;
        background: #18181b;
        color: #efeff1;
        border: 1px solid #3a3a3d;
        border-left: none;
        border-right: none;
        text-align: center;
        font-size: 12px;
        font-family: inherit;
        outline: none;
        -moz-appearance: textfield;
      }
      .spinner input::-webkit-inner-spin-button,
      .spinner input::-webkit-outer-spin-button {
        -webkit-appearance: none;
      }

      .color-field {
        display: flex;
        align-items: center;
        gap: 6px;
      }
      .color-field input[type="text"] {
        width: 72px;
        background: #18181b;
        color: #efeff1;
        border: 1px solid #3a3a3d;
        border-radius: 4px;
        padding: 3px 6px;
        font-family: monospace;
        font-size: 12px;
      }
      .color-field .swatch {
        width: 20px;
        height: 20px;
        border-radius: 4px;
        border: 1px solid #3a3a3d;
        flex-shrink: 0;
      }

      .emote-checks {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }
      .emote-checks label {
        display: flex;
        align-items: center;
        gap: 4px;
        font-size: 13px;
        cursor: pointer;
      }
      .emote-checks input[type="checkbox"] {
        accent-color: #9147ff;
      }

      .divider {
        border: none;
        border-top: 1px solid #2a2a2d;
        margin: 12px 0;
      }
    </style>
  </head>
  <body>
    <div class="header">
      <h1>Converse</h1>
      <div class="header-actions">
        <button id="open-extensions" title="Chrome extensions page">
          <svg width="14" height="14" viewBox="0 0 512 512" fill="currentColor"><path d="M352 320c88.4 0 160-71.6 160-160c0-15.3-2.2-30.1-6.2-44.2c-3.1-10.8-16.4-13.2-24.3-5.3l-76.8 76.8c-3 3-7.1 4.7-11.3 4.7L336 192c-8.8 0-16-7.2-16-16l0-57.4c0-4.2 1.7-8.3 4.7-11.3l76.8-76.8c7.9-7.9 5.4-21.2-5.3-24.3C382.1 2.2 367.3 0 352 0C263.6 0 192 71.6 192 160c0 19.1 3.4 37.5 9.5 54.5L19.9 396.1C7.2 408.8 0 426.1 0 444.1C0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9L297.5 310.5c17 6.2 35.4 9.5 54.5 9.5zM80 408a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"/></svg>
        </button>
        <button id="reload-ext" title="Reload extension">
          <svg width="14" height="14" viewBox="0 0 512 512" fill="currentColor"><path d="M463.5 224l8.5 0c13.3 0 24-10.7 24-24l0-128c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1c-87.5 87.5-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8l119.5 0z"/></svg>
        </button>
      </div>
    </div>

    <h2>Accounts</h2>
    <div id="account-list"></div>
    <button id="add-account" class="btn btn-primary">Add account</button>

    <hr class="divider" />

    <h2>Settings</h2>

    <div class="setting">
      <label>Hide chat</label>
      <label class="toggle">
        <input type="checkbox" id="hideChat" />
        <span class="slider"></span>
      </label>
    </div>

    <div class="setting">
      <label>Use Twitch chat</label>
      <label class="toggle">
        <input type="checkbox" id="useNativeChat" />
        <span class="slider"></span>
      </label>
    </div>

    <div class="setting">
      <label>Font size</label>
      <div class="spinner">
        <button class="spinner-btn" id="fontSizeDec">&minus;</button>
        <input type="number" id="fontSize" min="10" max="20" value="13" />
        <button class="spinner-btn" id="fontSizeInc">+</button>
      </div>
    </div>

    <div class="setting">
      <label>Message spacing</label>
      <div class="spinner">
        <button class="spinner-btn" id="messageSpacingDec">&minus;</button>
        <input type="number" id="messageSpacing" min="0" max="20" value="2" />
        <button class="spinner-btn" id="messageSpacingInc">+</button>
      </div>
    </div>

    <div class="setting">
      <label>Timestamps</label>
      <label class="toggle">
        <input type="checkbox" id="showTimestamps" checked />
        <span class="slider"></span>
      </label>
    </div>

    <div class="setting">
      <label>Badges</label>
      <label class="toggle">
        <input type="checkbox" id="showBadges" checked />
        <span class="slider"></span>
      </label>
    </div>

    <div class="setting">
      <label>Message cap</label>
      <input type="number" id="messageCap" min="100" max="2000" value="500" />
    </div>

    <div class="setting">
      <label>Odd row bg</label>
      <div class="color-field">
        <span class="swatch" id="bgOddSwatch"></span>
        <input type="text" id="bgOdd" maxlength="7" placeholder="#0e0e10" />
      </div>
    </div>

    <div class="setting">
      <label>Even row bg</label>
      <div class="color-field">
        <span class="swatch" id="bgEvenSwatch"></span>
        <input type="text" id="bgEven" maxlength="7" placeholder="#111114" />
      </div>
    </div>

    <div class="setting" style="flex-direction: column; align-items: flex-start">
      <label style="margin-bottom: 6px">Emote providers</label>
      <div class="emote-checks">
        <label><input type="checkbox" id="ep-twitch" checked /> Twitch</label>
        <label><input type="checkbox" id="ep-7tv" checked /> 7TV</label>
        <label><input type="checkbox" id="ep-bttv" checked /> BTTV</label>
        <label><input type="checkbox" id="ep-ffz" checked /> FFZ</label>
      </div>
    </div>

    <script src="popup.js"></script>
  </body>
</html>
